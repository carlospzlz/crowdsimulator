#!/bin/bash

fileName=generatedFlock.txt

touch $fileName

echo "# File generated by flockGenerator script" > $fileName
echo >> $fileName

xCentre=0
zCentre=0

flock=flock4
rows=7
columns=7
brain=cohesiveBoid

echo "0 0 0 1 2 1 8 parallelGoingRight parallelLeader 1 0 0" >> $fileName
echo "1" >> $fileName
echo "flock $flock" >> $fileName
echo >> $fileName

startingX=$((xCentre-($columns/2)))
startingY=$((zCentre-($rows/2)))

for ((i=0;i<$columns;++i))
do
	for ((j=0;j<$rows;++j))
	do
		rand=$(($RANDOM%100))
		mass=$(echo "scale=2; 0.5 + $rand / 100" | bc)
		rand=$(($RANDOM%100))
		maxStrength=$(echo "scale=2; 0.5 + $rand / 100" | bc)
		rand=$(($RANDOM%100))
		maxSpeed=$(echo "scale=2; 0.5 + $rand / 100" | bc)
		x=$(($startingX + i))
		z=$(($startingZ + j))
		echo "$x 0 $z $mass $maxStrength $maxSpeed 4 state $brain -1 0 0" >> $fileName
		echo "1" >> $fileName
		echo "flock $flock" >> $fileName
		echo >> $fileName
	done
done
